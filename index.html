<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>French Capitale RP – Liste des Bans</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      margin: 0;
      padding: 0;
    }
    header {
      background: #020617;
      padding: 20px;
      text-align: center;
      border-bottom: 2px solid #1e293b;
    }
    header h1 {
      margin: 0;
      font-size: 28px;
    }
    main {
      max-width: 1100px;
      margin: 40px auto;
      padding: 0 20px;
    }
    .search {
      margin-bottom: 20px;
    }
    .search input {
      width: 100%;
      padding: 12px;
      border-radius: 6px;
      border: none;
      font-size: 16px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #020617;
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      padding: 14px;
      text-align: left;
    }
    th {
      background: #020617;
      border-bottom: 2px solid #1e293b;
      font-weight: bold;
    }
    tr {
      border-bottom: 1px solid #1e293b;
    }
    tr:last-child {
      border-bottom: none;
    }
    .perma {
      color: #ef4444;
      font-weight: bold;
    }
    .temp {
      color: #f59e0b;
      font-weight: bold;
    }
    footer {
      text-align: center;
      padding: 20px;
      color: #94a3b8;
      font-size: 14px;
    }
  .deban-btn {
      background: #16a34a;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    .deban-btn:hover {
      background: #15803d;
    }

    </style>
</head>
<body>
  <header>
    <h1>French Capitale RP</h1>
    <p>Liste officielle des sanctions (Bans)</p>
  </header>

  <main>
    <div id="loginBox" style="margin-bottom:20px; background:#020617; padding:20px; border-radius:8px;">
      <h3>Accès Staff</h3>
      <input type="password" id="staffPass" placeholder="Mot de passe staff" style="padding:10px; width:100%; border-radius:6px; border:none;" />
      <button onclick="loginStaff()" style="margin-top:10px; padding:10px 16px; border:none; border-radius:6px; background:#2563eb; color:white; font-weight:bold; cursor:pointer;">Connexion</button>
      <p id="loginStatus" style="margin-top:10px;"></p>
    </div>

    <div id="panel" style="display:none;">
    <div class="search">
      <input type="text" id="searchInput" placeholder="Rechercher par pseudo, raison ou staff..." />
    </div>

    <table id="banTable">
      <thead>
        <tr>
          <th>Pseudo</th>
          <th>Type</th>
          <th>Raison</th>
          <th>Durée</th>
          <th>Staff</th>
          <th>Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Exemple de bans -->
        <tr>
          <td>Player_123</td>
          <td class="perma">Permanent</td>
          <td>NoRP / Troll</td>
          <td>Définitif</td>
          <td>AdminMax</td>
          <td>01/02/2026</td>
          <td><button class="deban-btn" onclick="deban(this)">Déban</button></td>
        </tr>
        <tr>
          <td>JohnRP</td>
          <td class="temp">Temporaire</td>
          <td>Freekill</td>
          <td>7 jours</td>
          <td>ModoAlex</td>
          <td>05/02/2026</td>
          <td><button class="deban-btn" onclick="deban(this)">Déban</button></td>
        </tr>
      </tbody>
    </table>
      </div>
  </main>

    <section style="max-width:1100px; margin:40px auto; padding:20px; background:#020617; border-radius:8px;">
    <h3>Logs des débans</h3>
    <ul id="logList"></ul>
  </section>

  <footer>
    © 2026 French Capitale RP – Tous droits réservés
  </footer>

  <script>
    const searchInput = document.getElementById('searchInput');
    const tableRows = document.querySelectorAll('#banTable tbody tr');

    searchInput.addEventListener('keyup', () => {
      const value = searchInput.value.toLowerCase();
      tableRows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(value) ? '' : 'none';
      });
    });
  function deban(button) {
      const row = button.closest('tr');
      const pseudo = row.children[0].innerText;
      if (confirm(`Confirmer le déban de ${pseudo} ?`)) {
        row.remove();
        alert(`${pseudo} a été débanni.`);
      }
    }
  let staffConnected = false;
    const STAFF_PASSWORD = "ADMIN"; // à modifier

    function loginStaff() {
      const pass = document.getElementById('staffPass').value;
      const status = document.getElementById('loginStatus');
      if (pass === STAFF_PASSWORD) {
        staffConnected = true;
        document.getElementById('panel').style.display = 'block';
        document.getElementById('loginBox').style.display = 'none';
        status.innerText = "Connexion réussie";
      } else {
        status.innerText = "Mot de passe incorrect";
        status.style.color = "#ef4444";
      }
    }

    function deban(button) {
      if (!staffConnected) {
        alert("Accès refusé : staff uniquement");
        return;
      }
      const row = button.closest('tr');
      const pseudo = row.children[0].innerText;
      if (confirm(`Confirmer le déban de ${pseudo} ?`)) {
        row.remove();
        const log = document.createElement('li');
        log.innerText = `${new Date().toLocaleString()} - ${pseudo} débanni`;
        document.getElementById('logList').appendChild(log);
      }
    }
  </script>
</body>
</html>
